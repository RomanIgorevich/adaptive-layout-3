function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")})),$(document).ready((()=>{let e=$(".btn"),t=$(".menu"),s=$(".active-2"),i=$(".fixed-menu"),a=$(".catalog-btn"),o=$(".catalog__modal"),l=$(".menu__link-btn"),n=$(".catalog__modal-inner"),d=$(".transparent-background");l[0].onclick=()=>{"menu"==t[0].attributes[0].value?t.addClass("dis-fl"):t.removeClass("dis-fl")},l[1].onclick=()=>{"menu fix"==t[0].attributes[0].value?t.addClass("dis-fl"):t.removeClass("dis-fl")},a[0].onclick=()=>{"catalog-btn index-min"==a[0].attributes[0].value||"catalog-btn"==a[0].attributes[0].value?(o.addClass("dis-fl"),d.addClass("dis-fl"),a.removeClass("index-min"),a.addClass("index-max"),a.addClass("active"),a[0].style.top="0px",a[0].style.position="relative",n[0].style.position="absolute",965<=$(window).width()?n[0].style.top="162px":753<=$(window).width()&&$(window).width()<965?n[0].style.top="208px":305<=$(window).width()&&$(window).width()<753&&(n[0].style.top="298px")):(o.removeClass("dis-fl"),d.removeClass("dis-fl"),a.removeClass("index-max"),a.addClass("index-min"),a.removeClass("active"),a[0].style.top="0px",a[0].style.position="relative")},e[0].onclick=()=>{t.removeClass("dis-fl"),o.addClass("dis-fl"),d.addClass("dis-fl"),a.removeClass("index-min"),a.addClass("index-max"),a.addClass("active"),753<=$(window).width()&&$(window).width()<965&&(n[0].style.top="85px",n[0].style.position="fixed",a[0].style.top="39px",a[0].style.position="fixed")},e[1].onclick=()=>{t.removeClass("dis-fl"),o.addClass("dis-fl"),d.addClass("dis-fl"),a.removeClass("index-min"),a.addClass("index-max"),a.addClass("active"),965<=$(window).width()&&(n[0].style.top="39px",n[0].style.position="fixed",a[0].style.top="39px","catalog-btn index-max active"==a[0].attributes[0].value&&(a[0].style.position="fixed"))},754<$(window).width()?$(window).scroll((()=>{$(this).scrollTop()>210?(i.removeClass("default").addClass("fixed"),$(window).width()<965?t.addClass("fix"):t.removeClass("fix"),s.removeClass("active-2").addClass("otstyp"),965<=$(window).width()?(n[0].style.top="39px",n[0].style.position="fixed",a[0].style.top="39px","catalog-btn index-max active"==a[0].attributes[0].value&&(a[0].style.position="fixed")):753<=$(window).width()&&$(window).width()<965?(n[0].style.top="85px",n[0].style.position="fixed","catalog-btn index-max active"==a[0].attributes[0].value&&(a[0].style.top="39px",a[0].style.position="fixed")):$(window).width()<753&&(n[0].style.top="39px",n[0].style.position="fixed","catalog-btn index-max active"==a[0].attributes[0].value&&(a[0].style.top="39px",a[0].style.position="fixed"))):$(this).scrollTop()<=210&&(i.removeClass("fixed").addClass("default"),t.removeClass("fix"),t.removeClass("dis-fl"),965<=$(window).width()||$(window).width()<753?(n[0].style.top="162px",n[0].style.position="absolute",a[0].style.top="0px",a[0].style.position="relative"):753<=$(window).width()&&$(window).width()<965&&(n[0].style.top="208px",n[0].style.position="absolute",a[0].style.top="0px",a[0].style.position="relative"))})):$(window).scroll((()=>{$(this).scrollTop()>405?(t.addClass("fix"),i.removeClass("default").addClass("fixed"),s.removeClass("active-2").addClass("otstyp")):$(this).scrollTop()<=405&&(i.removeClass("fixed").addClass("default"),t.removeClass("fix"),t.removeClass("dis-fl"),$(window).width()<465&&(n[0].style.top="298px"))}))})),function(){class e{constructor(e){this.container=e,this.firstSmallImage=this.container.querySelector(".slider__min-item").firstElementChild,this.zoomedImage=this.container.querySelector(".slider__max-img"),this.init(),this.changePhoto(),this.mouseEnter(),this.mouseMove(),this.mouseLeave()}init(){this.container||console.error("Нет элемента container"),this.zoomedImage||console.error("Нет элемента zoomedImage"),this.firstSmallImage?this.zoomedImage.style.backgroundImage="url("+this.firstSmallImage.lastElementChild.src+")":console.error("Нет элемента firstSmallImage")}changePhoto(){this.container.addEventListener("click",(e=>{const t=e.target;t.classList.contains("slider__min-img")&&(this.zoomedImage.style.backgroundImage="url("+t.src+")");var s=$(".active-sl");s[0].className=s[0].className.replace(" active-sl",""),t.parentElement.parentElement.className+=" active-sl"}))}mouseEnter(){this.zoomedImage.addEventListener("mouseenter",(()=>{this.zoomedImage.style.backgroundSize="250%"}))}mouseMove(){this.zoomedImage.addEventListener("mousemove",(e=>{let t=this.zoomedImage.getBoundingClientRect(),s=e.clientX-t.left,i=e.clientY-t.top,a=Math.round(100/(t.width/s)),o=Math.round(100/(t.height/i));this.zoomedImage.style.backgroundPosition=a+"%"+o+"%"}))}mouseLeave(){this.zoomedImage.addEventListener("mouseleave",(()=>{this.zoomedImage.style.backgroundSize="contain",this.zoomedImage.style.backgroundPosition="center"}))}}document.querySelectorAll(".slider").forEach((t=>{new e(t)}))}();const ratings=document.querySelectorAll(".rating");function initRatings(){let e,t;for(let e=0;e<ratings.length;e++){s(ratings[e])}function s(e){i(e),a(),e.classList.contains("rating_set")&&function(e){const s=e.querySelectorAll(".rating__item");for(let l=0;l<s.length;l++){const n=s[l];n.addEventListener("mouseenter",(function(t){i(e),a(n.value)})),n.addEventListener("mouseleave",(function(e){a()})),n.addEventListener("click",(function(s){i(e),e.dataset.ajax?o(n.value,e):(t.innerHTML=l+1,a())}))}}(e)}function i(s){e=s.querySelector(".rating__active"),t=s.querySelector(".rating__value")}function a(s=t.innerHTML){const i=s/.05;e.style.width=`${i}%`}async function o(e,s){if(!s.classList.contains("rating_sending")){s.classList.add("rating_sending");let e=await fetch("rating.json",{method:"GET"});if(e.ok){const i=(await e.json()).newRating;t.innerHTML=i,a(),s.removeClass("rating_sending")}else alert("Ошибка"),s.removeClass("rating_sending")}}}ratings.length>0&&initRatings();